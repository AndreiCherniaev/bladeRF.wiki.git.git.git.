This page provides some quick tips on troubleshooting problems.

If you run across an issue not listed here and find a solution, please feel free to post it here!

= Failing to see or connect to the device =

== Device's VID and PID ==
Under normal operation, the bladeRF should appear with VID=1d50 and PID=6066.  

If you see a Cypress device with VID=04b4 and PID=00f3, your bladeRF's FX3 may be in its bootloader mode. In this case, you may see a message in the bladeRF-cli program that notes a potential bladeRF running in bootloader mode. See the [[Upgrading-bladeRF-firmware|firmware upgrade]] wiki page for information on flashing the device.

== Virtual Machines ==
If you are using a Virtual Machine, there have been issues reported when changing the interfaces or claiming different interfaces.  The level of success has been varied depending on the type of port (XHCI or EHCI) and the VM software used.  

It has been reported that some VM software does not fully support USB 3.0. Verify the speed that the VM detects the device at, and try falling back to 2.0 if 3.0 does not work.

== Windows ==
To see the device in Windows, ensure you have the appropriate <code>inf</code> installed so that Windows associated the bladeRF with a libusbK driver. Verify that you've followed [[Getting-Started:-Windows#installing-libusbx|these steps]] in the Getting Started guide for Windows.

== Host or Device-specific Issues ==
As USB 3.0 is still relatively new, we've heard reports of some controller working great, and others not working at all. Ensure you have the latest drivers (and firmware, if needed) for your USB controller.

If possible, try testing the device on both USB 2.0 and USB 3.0 ports, as well as other host machines. 

=== Issues with XHCI and Linux ===
There is currently a known problem with Intel XHCI controllers in Linux, where killing an application using libbladeRF (which uses libusb) in a manner that doesn't allow libusb_close() to be called. The symptoms will include kernel crashes with NULL pointer dereferences in xhci_free_dev(), and "not enough bandwidth for altsetting...) messages in dmesg (requiring a Power-on Reset).

To avoid this issue, ensure that programs using the device are closed cleanly:
- Add SIGTERM/SIGINT handlers to your custom applications to ensure the bladeRF device handle is closed. See the [https://github.com/Nuand/bladeRF/blob/master/host/utilities/bladeRF-cli/src/interactive/fgets.c#L40 bladeRF-cli] source for a reference.
- When using GNU Radio Companion, **do not** click the "Kill flowgraph" (a red X) button. Instead, close the GUI window associated with the flow graph. If your flow graph doesn't contain any GUI widgets, you'll have to add a dummy one just to achieve this.

As always, any help into investigating this issue is appreciated!

=== Working confiugrations ===
Below is a list of configurations that people have reported success on. Feel free to add to this list. (Please try to keep it reasonably organized.)
{| class="wikitable"
| Configuration Name
| Device/Motherboard/CPU
| Controller or Chipset
| Operating System(s)
|-
| jynik's Desktop
| [http://www.evga.com/support/manuals/files/132-GT-E768.pdf EVGA x58 FTW3], Intel i7
|  Onboard NEC/Renesas controller and [http://www.rocketfishproducts.com/products/computer-accessories/RF-P2USB3.html 2-Port PCIe card] NEC/Renesas
| Windows 7, XUbuntu 12.10, 13.04, 13.10  (All 64-bit)
|-
| jynik's Laptop
| Thinkpad W530, Intel i7-3630QM
| Intel 7 Series/C210 Series xHCI (VID=8086, PID=1e31)
| Windows 7, XUbuntu 13.04 (All 64-bit). '''Note''': The XHCI issues mentioned above applies to the Linux configuration here.
|-
| drmpeg's Desktop
| Dell T3600, Intel E5-1607
| Onboard NEC uPD720200 xHCI
| Ubuntu 13.04 (32-bit just to run old XView stuff). Able to process 36 Msps in osmocom_fft without overruns.
|-
|}

= FPGA fails to load =
In many cases, load failures have been the result of trying to load the wrong size FPGA image for the board in question. Check to make sure you are using the 40kLE FPGA for x40 and the 115kLE FPGA for x115.

If you're unsure which FPGA size is on your board, identify the the Altera Cyclone IV package on the top of the bladeRF. You should see text on the package that reads ''EP4CExxxF23C8N'', where ''xxx'' is the size -- either 40 or 115.

= Compilation Issues =

== libbladeRF ==

=== libusb_get_version ===
If you see an error about being unable to find the <code>libusb_get_version</code> function, the version of libusb installed on your machine needs to be updated. Updating to >= 1.0.12 for Linux is required, but >= 1.0.16 is suggested.

There is [https://github.com/Nuand/bladeRF/issues/130 an open action item] to change the CMake configuration to detect and complain about this, prior to compilation.

= Mac OSX Superspeed issues =

If you've used ports to get libusb installed, there is a high likelihood that it is version 1.0.9.  Unfortunately, libusb didn't add superspeed support until version 1.0.15 for OSX.  We've had reports that the absolute latest version of libusb, 1.0.17, works on OSX.  Please update accordingly.

= Legacy mode warning =

This warning comes up if you have a that is considered out-of-date and requires flashing.  

Please update to the [http://nuand.com/fx3/latest.img latest firmware], per the instructions in [[Upgrading-bladeRF-firmware|this wiki page.]]

= Getting help =
If you're really stuck, join the #bladeRF channel on [http://webchat.freenode.net/ Freenode] or post to the [http://nuand.com/forums/viewforum.php?f=4 Nuand Troubleshooting forum].

Folks in the community are generally very happy to help. However, to make the most of everyone's time, please try to have as much of following information available as you can. Providing this information up front can help you get to the bottom of things much quicker.

* Information about the target host machine
** Are you in a VM? See the [[Troubleshooting#Virtual-Machines|Virtual Machines]] section for some known problems.
** Are you running on a 32-bit or 64-bit processor?
** What is your USB controller? Given that USB3 is still moderately new, some controllers have found to perform significantly better (or worse) than others.
** Are you connecting your device to a 2.0 or 3.0 port? If a 3.0 port, is it connecting 
** Is this a tablet or smartphone?
* The OS you're using
** For Linux, please note your distribution (and that distribution's version), as well as kernel version
* Version information for the items you're having issues with
** When running the bladeRF-cli in interactive mode (<code>bladeRF-cli -i</code>), the <code>version</code> command may be used to display information for both host items and the attached device. This is generally helpful in identifying if a problem you're seeing has been fixed in more recent versions.
* Any relevant error messages or warnings.
** Run the bladeRF-cli with <code>-v verbose</code> to enable all output
** (Linux users) Check the output of dmesg and lsusb
** For GNU Radio and gr-osmosdr issues, note the versions of these you're running.
* Have you followed the steps in the [[Home#getting-started-guides|Getting Started]] guides?
** If you're currently in the process of following these guides, which steps have you already performed, and at which step are you encountering problems with?